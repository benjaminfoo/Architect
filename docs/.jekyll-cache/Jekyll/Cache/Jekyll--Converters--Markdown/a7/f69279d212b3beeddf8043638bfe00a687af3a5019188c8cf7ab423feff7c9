I"Ê\<h1 id="welcome">Welcome!</h1>
<p>This project introduces new features and mechanics to <a href="https://www.kingdomcomerpg.com/">kingdom come deliverance</a> like a construction-system,
a resource-system, a basic crafting-system, town management, etc.</p>

<p>This means that the player can create and spawn constructions - this ranges from simple props to flora &amp; fauna, 
vegetation, houses, walls, towers, tents, chairs, benches, beds, etc. almost anywhere in the world. Its also possible to build 
custom constructions like wood-, stone-, coal-, ‚Ä¶ -generators which produce resources or items over time.</p>

<h5 id="if-you-enjoy-this-mod-send-me-your-screenshots--videos-or-maybe-buy-me-a-cup-of-coffee---thanks-to-all-of-you">If you enjoy this mod send me your <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958?tab=images">screenshots / videos</a> or maybe <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=PMULUFGTQFAJA&amp;source=url">buy me a cup of coffee</a> - thanks to all of you!</h5>

<p><br /></p>

<p><strong>Note</strong><br />
Make a backup of your saved games - there is no new save required.<br />
There are no DLCs required to use this mod.</p>

<h5 id="thanks-to-warhorse-studios-for-developing-and-realizing-this-beautiful-game-and-the-modding-sdk">Thanks to <a href="https://warhorsestudios.cz">Warhorse Studios</a> for developing and realizing this beautiful game and the modding sdk!</h5>

<p><br /></p>

<h2 id="-news"><i class="fas fa-rss"></i> News</h2>
<ul>
  <li>Version 0.5.4a-test has been <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">released!</a></li>
  <li><a href="https://www.youtube.com/channel/UCvpxkCUky0wN5e0DNf_YZCQ">Sexy Biscuit</a> has released a new video which reviews the latest features of the architect on <a href="https://www.youtube.com/watch?v=f_x-3SbbOfc">YouTube</a></li>
  <li>Version 0.5.4a has been <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">released!</a></li>
  <li>Version 0.5.3b has been <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">released!</a></li>
  <li>Version 0.5.3a has been <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">released!</a></li>
  <li><a href="https://www.youtube.com/channel/UCvpxkCUky0wN5e0DNf_YZCQ">Sexy Biscuit</a> has released a two hour stream about town building and using architect on <a href="https://www.youtube.com/watch?v=tZISnQW5ms4">YouTube</a></li>
  <li>Version 0.5.2b has been <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">released!</a></li>
  <li><a href="https://www.youtube.com/channel/UCvpxkCUky0wN5e0DNf_YZCQ">Sexy Biscuit</a> has released another great gameplay video using the architect modification on <a href="https://www.youtube.com/watch?v=ysLVzh89N_c">YouTube</a></li>
  <li><a href="https://www.youtube.com/channel/UCvpxkCUky0wN5e0DNf_YZCQ">Sexy Biscuit</a> has released an overview on how to install and use the architect modification on <a href="https://www.youtube.com/watch?v=0D_I73Jn3G8">YouTube</a></li>
  <li>The german computer magazine <a href="www.gamestar.de/">Gamestar</a> wrote an article about the <a href="https://www.gamestar.de/artikel/mod-kingdom-come-eigenen-doerfer-burgen-bauen,3355483.html">architect!</a></li>
  <li>Version 0.51a has been <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">released!</a></li>
</ul>

<p><br /></p>

<h2 id="-media"><i class="fab fa-youtube"></i> Media</h2>
<p>Take a look at the base building videos of <a href="https://www.youtube.com/channel/UCvpxkCUky0wN5e0DNf_YZCQ">sexybiscuit</a> to get an idea and how to install and use the modification - p.s. the videos are great!</p>

<div id="media">

<iframe class="p-1" width="48%" height="480" src="https://www.youtube.com/embed/f_x-3SbbOfc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<iframe class="p-1" width="48%" height="480" src="https://www.youtube.com/embed/gDjDkfh75nU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<iframe class="p-1" alt="base building video by sexy biscuit" width="48%" height="480" src="https://www.youtube.com/embed/90tNln4SM5w" frameborder="0" allow="accelerometer; 
autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<iframe class="p-1" alt="base building video by sexy biscuit" width="48%" height="480" src="https://www.youtube.com/embed/0D_I73Jn3G8" frameborder="0" allow="accelerometer;
 autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<iframe class="p-1" alt="base building video by sexy biscuit" width="48%" height="480" src="https://www.youtube.com/embed/tZISnQW5ms4" frameborder="0" allow="accelerometer; 
autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<iframe class="p-1" alt="base building video by sexy biscuit" width="48%" height="480" src="https://www.youtube.com/embed/ysLVzh89N_c" frameborder="0" allow="accelerometer; 
autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

</div>

<p><br /></p>

<h2 id="-installation"><i class="fas fa-file-archive"></i> Installation</h2>
<p>Get the latest release from <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">mods nexus</a> or <a href="https://github.com/benjaminfoo/Architect/releases">github</a>, 
unzip the archive into your <em>‚ÄòKingdomComeDeliverance\mods‚Äô</em> - folder.<br />
If the installation was succesful you‚Äôll see the instructions-message on how to use the mod when the game has been started<br />
(and a savegame loaded or a new game hast been created).</p>

<h3 id="-using-the-devmode"><i class="fab fa-dev"></i> Using the devmode</h3>
<p>You need to start the game with devmode enabled (the modification won‚Äôt work otherwise). <br />
<strong>In your OS / explorer / shell:</strong><br />
<code class="highlighter-rouge">&lt;Steam&gt;\steamapps\common\KingdomComeDeliverance\Bin\Win64\KingdomCome.exe -devmode</code></p>

<h3 id="-for-steam-users"><i class="fab fa-steam-square"></i> For Steam Users</h3>
<p>The following list of files needed to be stored at:<br />
<code class="highlighter-rouge">Steam\steamapps\common\KingdomComeDeliverance\mods\architect\</code></p>
<ul>
  <li>mod.manifest</li>
  <li>keybinds.cfg</li>
  <li>Data\architect.pak</li>
</ul>

<h3 id="other">Other</h3>
<p>This will get updated soon - however, take a look at the posts section of this site - people using epic were also able to use this mod.</p>

<h3 id="uninstall--removal">Uninstall / Removal</h3>
<p>Its also safe to remove the mod at any time (if you‚Äôve already created something within the game, without
deleting it first, the entity stays in the game. Use <strong>#deleteall()</strong> within the ingame-console to clean up your scene.)</p>

<p><br /></p>

<h2 id="usage--keys">Usage / Keys</h2>
<p>These keys can be used to interact with the mod - they‚Äôre also shown ingame.</p>

<div class="preformat_code">
Choose the next construction
Button MouseWheel up  

Choose the previous construction
Button MouseWheel down  

Create a new construction  
Key V

Toggle rotation-mode for new construction
Key R
                
Remove a construction  
Key G

Enable / Disable the modification  
Key H

</div>

<p><br /></p>

<h4 id="change-default-key-bindings">Change default key-bindings</h4>
<p>The <code class="highlighter-rouge">keybinds.cfg</code> file contains all keybindings used in the project - change it to a key or a controller button as you like.</p>

<h4 id="add-new-constructions-to-the-selection-remove-constructions">Add new constructions to the selection, remove constructions</h4>
<p>Not every asset is referenced in the project, because some are not suitable (split into multiple parts which would be a 
pain to position by hand, some are graphical effects, some are too large to be positioned by the player, etc.).</p>

<p>However, one could add models / cgfs from the assets  on its own, 
the currently used constructions are listed in the file: <br />
<a href="https://github.com/benjaminfoo/Architect/blob/master/Data/Scripts/Manager/arc_BuildingsManager.lua">Data/Scripts/Manager/arc_BuildingsManager.lua</a></p>

<div id="features"></div>
<h2 id="features">Features</h2>

<p>This is an overview of all the implemented features this project contains.</p>

<div id="constructions"></div>
<h3 id="construction-system">Construction-System</h3>

<p>One target functionality architect introduces is the concept of constructions.</p>

<div class="preformat_code">
A construction is an entity within the cryengine
There are different kinds of properties an entity can use from

Construction, Construction-Properties
 - name (optional) - the name of the construction - the name will be built from the modelPath
 - modelPath       - the relative path to the *.cgf file, contains the name of the model file and its physics
 - description     - the description for the construction
 - groschenPrice   - the price in groschen the user has to pay upfront (to whom? who recieves this money) 
                     =&gt; maybe there should be some kind of logic that 50% goes to the king and 50% to the city, 
                        and at some point you will get the money back or something like that, 
                        some kind of insurence or something
 - sitable         - if true, the player can sit on this object
 - useable         - if true, the player can use the object in some way
 - saveable        - if true, the instance of the construction gets saved
 - cookable        - if true, the player can use the construction for cooking
 - sleepable       - if true, the player can use the construction for sleeping

Properties related to generating some item over a specified amount of time
(like collecting water passively) or craft something out of x for y (x = generated item, y = cost of crafting for item x)
 - generator           - if true, the item generates items over time specified by following properties
 - generatorOnUse      - if true, the construction can be used by the player to generate an item
 - generatorItem       - the item that gets crafted on use or after time
 - generatorItemCosts  - the costs for producing this item (a set of resources and amounts)
 - generatorCooldown   - the length of the intervall after an item gets generated passievly
 - generatorItemAmount - the amount of items the user recieves after an intervall

Notes
- Constructions which only contain a modelPath are handled as static entites (no functionality, just a model + collider + manged in savegames)

</div>

<p><br /></p>
<div id="townManagement"></div>

<h3 id="town-management">Town management</h3>

<p>Its possible to define basic attributes of a home or town now. 
You can set a home position and return back any time or set a name for your town.
There is also a statistics command which shows different aspects of your town.</p>

<p>Sets the current player-location as home / town<br />
<code class="highlighter-rouge">#setHome()</code></p>

<p>Sets the town‚Äôs name to Farkletown<br />
<code class="highlighter-rouge">#setHomeName("Farkletown")</code></p>

<p>Returns the player to his home / town<br />
<code class="highlighter-rouge">#getHome()</code></p>

<p>Displays a resume (a list of attributes, like name, town, generated resources) for your current town<br />
<code class="highlighter-rouge">#showStats()</code></p>

<p><br /></p>

<div id="resourceManagement"></div>
<h3 id="resource-management">Resource Management</h3>
<p>Another new feature architect introduces is the management of resources.</p>

<p>There are different kinds of resources:</p>

<div class="preformat_code">
resources = {

    -- basic resources
    wood = 0,
    stone = 0,

    -- basic needs
    food = 0,
    water = 0,

    -- the money of the user, this should be bind to the actuals player value
    groschen = 0,

    -- this can be used for baking bread or other food in kingdom come deliverance
    wheat = 0,

    coal = 0,
    cords = 0,
    linen = 0,
} 

</div>
<p>Building constructions will require the user to spend money and / or resources in order to actually built something - 
like the ingredients of a recipe. The implementation is not finished yet.</p>

<p><br /></p>

<div id="customCrafting"></div>
<h3 id="custom-crafting">Custom Crafting</h3>
<p>A construction who posses attributes like generatorOnUse can be used to realize simple crafting mechanics.</p>
<div class="preformat_code">
{
    -- create a new construction which can be used for crafting
    modelPath = "...",
    generatorOneUse = true
    generatorItem = "wood"
    -- TODO
} 

</div>

<p>.. this needs further updates.</p>

<p><br /></p>

<h2 id="current-features--to-dos--bugs">Current features / To-Dos / bugs</h2>
<p>This list contains all the features planned for later development, recommended by myself or the community:</p>

<ul>
  <li>resource / cost management system (for spending and recieving groschen w constructions)
    <ul>
      <li>needs balancing</li>
      <li>implement costs for crafting or producing resources or items</li>
      <li>implement costs for building stuff, should be in the recipe above!</li>
    </ul>
  </li>
  <li>custom crafting systems
    <ul>
      <li>needs balancing</li>
      <li>implement costs for crafting or producing resources or items</li>
      <li>implement costs for building stuff, should be in the recipe above!</li>
    </ul>
  </li>
  <li>add further constructions
    <ul>
      <li>a working kitchen / campfire</li>
      <li>add aim target with hit detection (like ‚Äúhit one time, ‚Ä¶‚Äù) on arrow hit</li>
      <li>trigger / buttons</li>
    </ul>
  </li>
  <li>misc
    <ul>
      <li>keybind for enabling / disabling the mod - on f12 - pressed =&gt; you have activated the mod, these are the keys‚Ä¶ etc.</li>
      <li>spawn setups with relations to npcs or items</li>
      <li>make torches &amp; lights toggleable</li>
      <li>preview for constructions</li>
      <li>preview-mode for rotation, translation of the constructions</li>
      <li>‚Ä¶ siege invasions ‚Ä¶ ?</li>
    </ul>
  </li>
</ul>

<p><br /><br />
<br /></p>

<h2 id="technical">Technical</h2>
<p>This is an overview of all the available console- and lua- commands this project contains.</p>

<h3 id="console-commands">Console commands</h3>
<p>The following list contains regular console commands</p>

<ul>
  <li>architect_help - show the help menu (also shows all available lua functionality)</li>
  <li>architect_clear - clear the ingame console</li>
  <li>architect_gamble - win or loose 5 groschen!</li>
  <li>architect_log - print some text to the ingame-console</li>
  <li>architect_recompileAll - reload the source-code of the project</li>
</ul>

<h3 id="lua-functions">Lua functions</h3>
<p>These functions offer advanced usage to the modifications internals, use at your own risk and save the game. <br />
<strong>In order to execute a lua function, you have to prepend a ‚Äò#‚Äô-character to execute it.</strong></p>

<div class="preformat_code">
All commands are available in upper / lowercase format.

#search(string s) 
-- Search for entites which name contains string s
-- For example: #search("stone") - emits a list of entities containing the string "stone"
-- Use Select to use one of your findings (without using the mouse wheel)

#select(nr)
-- selects the construction at Number nr and updates the user interface

#selectFirst()  
-- selects the first construction and updates the user interface

#selectLast()
-- selects the last construction and updates the user interface

#showall() 
-- lists all constructions to the ingame console

#deleteall()
-- deletes all constructions you've created

#deleteAt(index)()
-- delete the construction at number index (use #showall())

#toggleEntityLock()
-- toggles the deletion_lock-value of the currently faced entity
-- If true, the entity wont get deleted, no matter which function / mechanism is used,
-- if false, the entity will get deleted (default) 

#reloadall()
-- Reloads the source files of the project at runtime

#rayCastHit()
-- Use a raycast to determine entities in front of the player

#lockAll()
-- locks all constructions from the user
-- by pressing 'O' you're locking the currently faced entity, which makes it undeleteable, press again to retoggle the state
-- this method is useful when used after loading a saved game - this way you can keep your changes 

#unlockAll()
-- unlocks all constructions from the user

#setHome()
-- Sets the current player-location as home / town

#setHomeName("Farkletown")
-- Sets the town's name

#getHome()
-- Returns the player to his home / town
    
#showStats()
-- Displays a resume (a list of attributes, like name, town, generated resources) for your current town

</div>

<p><br /></p>

<h2 id="screenshots">Screenshots</h2>
<div id="screenshots"></div>

<h3 id="getting-started">Getting started</h3>
<p><img class="img-fluid" src="assets/img/howto/000_help.jpg" /><br />
Use <code class="highlighter-rouge">architect_help</code> to get an overview of the available console- and lua- commands.</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/001_help.jpg" /><br />
There are new methods in order to look for constructions like <code class="highlighter-rouge">#search(''), #select(nr), ...</code></p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/002_help_lua.jpg" /><br />
The latest release also contains basic town management functionalities with <code class="highlighter-rouge">#setHome(), #setHomeName(name), #getHome or s#howStats()</code></p>

<p><br /></p>

<h3 id="navigation">Navigation</h3>
<p><img class="img-fluid" src="assets/img/howto/005_search_1.jpg" /><br />
Use <code class="highlighter-rouge">#search("...")</code> to find all constructions which contain the search-param.</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/006_search_and_Select.jpg" /><br />
Its also possible to wrap multiple method calls, like <code class="highlighter-rouge">#select(search("smithery")</code> which search and returns the first construction which contains ‚Äúsmithery‚Äù as a part of its name.</p>

<p><br /></p>

<h3 id="locking">Locking</h3>
<p><img class="img-fluid" src="assets/img/howto/010_locking.jpg" /><br />
Use <code class="highlighter-rouge">#lockAll()</code> to activate the deletion-lock of all constructions.</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/011_unlocking.jpg" /><br />
Use <code class="highlighter-rouge">#unlockAll()</code> to deactivate the deletion-lock of all constructions.</p>

<p><br /></p>

<h3 id="town-management-1">Town Management</h3>
<p><img class="img-fluid" src="assets/img/howto/020_stats.jpg" /><br />
Use <code class="highlighter-rouge">#showStats()</code> to get an overview of the towns name, owner, position, resources, ‚Ä¶</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/021_stats.jpg" /><br />
‚Ä¶ and for an overview of all existing generators, etc.</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/030_home_setHome.jpg" /><br />
Use <code class="highlighter-rouge">#setHome()</code> to set the current player position as the new towns home position.</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/031_home_setHomeName.jpg" /><br />
Use <code class="highlighter-rouge">#setHomeName('farkletown')</code> to set the towns name.</p>

<p><br /></p>

<p><img class="img-fluid" src="assets/img/howto/032_home_getHome.jpg" /><br />
Use <code class="highlighter-rouge">#getHome()</code> returns the player to his previously set home position.</p>

<p><br /><br />
<br /></p>

<h3 id="implemented-features---tldr">Implemented features - tl;dr</h3>
<ul>
  <li>custom constructions / entities, or existing with custom actions / usages</li>
  <li>custom entities for the generation of resources</li>
  <li>implement un/locking mechanism</li>
  <li>implement advanced ingame-console usage and help</li>
  <li>implement minimalistic user interface</li>
  <li>provide ability to build constructions based on ingame assets</li>
  <li>provide ability to extend the modification for easier usage / development</li>
</ul>

<p><br /></p>

<h3 id="changelog">Changelog</h3>
<p>This list contains all changes happened during development - the versions should be compatible to each other (maybe) - already created entities wont be affected.</p>

<div class="preformat_code">
- Alpha versions (a) are unstable and in subject of larger changes - expect bugs.  
- Beta versions are more stable and in subject of smaller bugfixes - expect less bugs :).  



changelog 0.5.4a-test
- its now safe to enable / disable the mod
- The functionality is now limited to mod-state - except console commands

changelog 0.5.4a
- added preview-system for new constructions  
- added rotation-mode pressing R to toggle - using the mousewheel rotates the preview around the Y-Axis

changelog 0.5.3b
- updated docs and added about page - https://benjaminfoo.github.io/Architect/  
- "should-be-stable"-release  

changelog 0.5.3a
- updated console api for easer use (use #search("string"), #select(nr), #selectFirst(), #selectLast(), ...)
- updated resource-system &amp; proper resource-generation (passively &amp; overtime and - actively when used)
- updated town management
- updated simple crafting-system (see the resource-system and generation)
- updated locking-system (use #lockAll() or #unlockAll()
- updated available constructions (upgraded data-model, added alot of interior, ...)

changelog 0.5.2b
- added fallback keybinding
- limited user's ability to remove constructions (no more deleted doors, ... or dogs)
- added locking-functionality for entities 
- updated construction-types
- updated persistence of construction parameters
- removed bugs

Version 0.5.1a
- increased compatibility with other modifications

Version 0.5a
- implemented basic custom crafting system (this only works with constructions created by the player) 
- updated useable entities (like chairs, beds, benches, etc.)
- upgrade of entity-data models
- split project into sub-packages

Version 0.4b
- implemented basic town management
- implemented basic resouce-system
- added option to rebind keys (look at the keybinds.cfg file to define your own keys)
- removed invalid references from assets

Version 0.3b
- updated console api
- refactoring, ui finish
- documentation, screenshots

Version 0.2b
- updated set of available constructions
- implemented collision-free naming of entities
- bug-fixes

Version 0.1b
- implemented basic console api
- refactored project

Version 0.1a
- implementation of basic construction-system (static entities)
- integration of persistance for constructions

</div>

<p><br /></p>

<h3 id="downloads">Downloads</h3>
<div id="downloads"></div>
<p>Get the modification at the <a href="https://www.nexusmods.com/kingdomcomedeliverance/mods/958">nexus</a> or at <a href="https://github.com/benjaminfoo/Architect/releases">github</a>.</p>

<p><br /></p>

<h2 id="credits--thanks">Credits &amp; Thanks</h2>
<p>Thanks to <a href="https://warhorsestudios.cz">Warhorse Studios</a> for developing and realizing this beautiful game and the modding sdk!<br />
Also thanks to <a href="https://www.youtube.com/channel/UCvpxkCUky0wN5e0DNf_YZCQ">sexybiscuit</a> for creating the great videos on how to use and install the modification!<br />
This page uses <a href="https://getbootstrap.com/">bootstrap 4</a> and was generated with <a href="https://jekyllrb.com/docs/plugins/generators/">jekyll</a>.</p>
:ET